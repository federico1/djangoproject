{% extends "app_base.html" %}
{% load staticfiles %}

{% block title %}
- SST Card Verification
{% endblock %}

{% block content %}

<div class="breadcumb-area">

    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="/">Home</a></li>
            <li class="breadcrumb-item active" aria-current="page">SST Card Verification</li>
        </ol>
    </nav>
</div>

<div class="regular-page-area section-padding-50">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="page-content">

                    <h3> SST Card Verification </h3>

                    <p>

                        Before issuing an SST Card, NYCCST verifies all training hours completed to ensure that a
                        Worker or Supervisor meets the requirements set forth under Local Law 196 and the New York
                        City Department of Buildings’ Site Safety Training Curriculum. If you’ve been presented with
                        an SST Card issued by NYCCST Academy, we can help verify the validity of the card.

                    </p>

                    <div class="row">
                        <div class="col-lg-6">
                            <div class="card mt-4">
                                <div class="card-body">
                                    <form id="fm">
                                        <div class="form-group clearfix">
                                            <label for="exampleInputEmail1">Card Number</label>
                                            <input type="text" class="form-control" id="txtCardNumber" />
                                        </div>

                                        <div class="mt-3">
                                            <button type="button" class="btn btn-primary" id="btnVerify">Submit
                                                Verify</button>
                                            <button type="button" class="btn btn-secondary" id="btnClear">Clear</button>
                                        </div>

                                        <div class="text-right">
                                            <div class="spinner-border text-primary d-none" role="status">
                                                <span class="sr-only">Loading...</span>
                                            </div>

                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-6">

                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>


{% endblock %}

{% block scripts %}



<script>
    (function ($) {

        $.SSTVerifyPage = function (options) {

            var that = this;

            var settings = $.extend({}, options);


            var registerEvent = function () {

                $("div").on("click", '#btnVerify', function (e) {
                    e.stopPropagation();
                    $("#fm .spinner-border").removeClass('d-none');
                    $("#fm input").attr('disabled', true);
                    $("#fm button").attr('disabled', true);
                    $("#fm .alert").remove();

                    setTimeout(function () {

                        $("#fm .spinner-border").addClass('d-none');
                        $("#fm input").attr('disabled', false);
                        $("#fm button").attr('disabled', false);

                        $("#fm .alert").remove();

                        var alert = $("<div />", {
                            class: 'alert alert-primary mt-3'
                        }).html('Card number is not valid.');

                        $("#fm").append(alert);

                    }, 2000);
                });


                $("div").on("click", '#btnClear', function (e) {
                    e.stopPropagation();
                    $("#txtCardNumber").val(null);
                     $("#fm .alert").remove();
                });




            };

            var init = function () {
                registerEvent();
            };

            init();

            return this;

        };


    }(jQuery));

    $(document).ready(function () {
        var messagesPage = new $.SSTVerifyPage({});
    });
</script>
{% endblock %}